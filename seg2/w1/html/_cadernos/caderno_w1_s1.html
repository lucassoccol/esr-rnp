<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<title>Sessão 1: Fundamentos de segurança</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_sessão_1_fundamentos_de_segurança">Sessão 1: Fundamentos de segurança</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_1_da_divisão_de_grupos">1) Da divisão de grupos</h3>
<div class="paragraph">
<p>Neste curso, os alunos serão divididos em dois grupos: <code>A</code> e <code>B</code>. Ao longo da semana, iremos realizar algumas atividades que vão envolver a intercomunicação entre máquinas virtuais dos alunos de cada grupo; para que as configurações de rede de dois alunos envolvidos em uma mesma atividade não conflitem, iremos adotar uma nomenclatura de endereços para cada grupo, como se segue:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<caption class="title">Table 1. Nomenclatura entre grupos</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Grupo</th>
<th class="tableblock halign-left valign-top">Sufixo de endereço</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>O que isso significa, na prática? Em vários momentos, ao ler este material, você irá se deparar com endereços como 172.16.G.20 ou 10.1.G.10&#8201;&#8212;&#8201;que evidentemente são inválidos. Nesse momento, substitua o número do seu grupo pela letra <code>G</code> no endereço. Se você for membro do grupo <code>B</code>, portanto, os endereços acima seriam 172.16.2.20 e 10.1.2.10.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_2_topologia_geral_de_rede">2) Topologia geral de rede</h3>
<div class="paragraph">
<p>A figura abaixo mostra a topologia de rede que será utilizada durante este curso. Nos tópicos que se seguem, iremos verificar que a importação de máquinas virtuais, configurações de rede e conectividade estão funcionais antes de prosseguir. As configurações específicas de cada máquina/interface serão detalhadas na seção a seguir.</p>
</div>
<div id="img-topologia" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/Topologia_SEG12_Semana2.png" alt="Topologia SEG12 Semana2">
</div>
<div class="title">Figure 1. Topologia de rede do curso</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_3_configuração_do_virtualbox">3) Configuração do Virtualbox</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Primeiramente, verifique se todas as máquinas virtuais foram importadas.</p>
<div class="paragraph">
<p>Se ainda não foram, importe-as manualmente através do menu <em>File</em> &gt; <em>Import Appliance</em>. Navegue até a pasta onde se encontra o arquivo <code>.ova</code> com as imagens das máquinas virtuais e clique em <em>Next</em>. Na tela subsequente, marque a caixa <em>Reinitialize the MAC address of all network cards</em> e só depois clique em <em>Import</em>.</p>
</div>
<div class="paragraph">
<p>Ao final do processo, você deve ter cinco VMs com as configurações que se seguem. Renomeie as máquinas virtuais com os nomes indicados na tabela abaixo, substituindo o <code>G</code> pela letra do seu grupo. Para renomear máquinas virtuais no Virtualbox, acesse <em>Settings</em> &gt; <em>General</em> &gt; <em>Name</em> e altere o nome da VM (a mesma deve estar previamente desligada).</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<caption class="title">Table 2. VMs disponíveis no Virtualbox</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nome VM</th>
<th class="tableblock halign-left valign-top">Memória</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FWGW1-G</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2048 MB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LinServer-G</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2048 MB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WinServer-G</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2048 MB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">KaliLinux-G</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2048 MB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WinClient-G</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2048 MB</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Se a quantidade de RAM de alguma das máquinas for inferior aos valores estipulados, ajuste-a.</p>
</div>
</li>
<li>
<p>Agora, configure as redes do Virtualbox. Acesso o menu <em>File</em> &gt; <em>Host Network Manager</em> e crie as seguintes redes:</p>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Redes <em>host-only</em> no Virtualbox</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Rede</th>
<th class="tableblock halign-left valign-top">Endereço IPv4</th>
<th class="tableblock halign-left valign-top">Máscara de rede</th>
<th class="tableblock halign-left valign-top">Servidor DHCP</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virtualbox Host-Only Ethernet Adapter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">172.16.G.254</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">255.255.255.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Desabilitado</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virtualbox Host-Only Ethernet Adapter #2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.1.G.254</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">255.255.255.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Desabilitado</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</li>
<li>
<p>Finalmente, configure as interfaces de rede de cada máquinas virtual. Para cada VM, acesse <em>Settings</em> &gt; <em>Network</em> e faça as configurações que se seguem:</p>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Interfaces de rede das máquinas virtuais</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">VM Nome</th>
<th class="tableblock halign-left valign-middle">Interface</th>
<th class="tableblock halign-left valign-middle">Conectado a</th>
<th class="tableblock halign-left valign-middle">Nome da rede</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">FWGW1-G</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Adapter 1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Bridged Adapter</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Placa de rede física do <em>host</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Adapter 2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Host-only Adapter</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Virtualbox Host-Only Ethernet Adapter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Adapter 3</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Host-only Adapter</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Virtualbox Host-Only Ethernet Adapter #2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">LinServer-G</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Adapter 1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Host-only Adapter</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Virtualbox Host-Only Ethernet Adapter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">WinServer-G</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Adapter 1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Host-only Adapter</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Virtualbox Host-Only Ethernet Adapter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">KaliLinux-G</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Adapter 1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Host-only Adapter</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Virtualbox Host-Only Ethernet Adapter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">WinClient-G</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Adapter 1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Host-only Adapter</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Virtualbox Host-Only Ethernet Adapter #2</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_4_detalhamento_das_configurações_de_rede">4) Detalhamento das configurações de rede</h3>
<div class="paragraph">
<p>As configurações de rede realizadas internamente em cada máquina virtual foram apresentados de forma sucinta na figura 1. Iremos detalhar as configurações logo abaixo:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Configurações de rede de cada VM</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">VM Nome</th>
<th class="tableblock halign-left valign-middle">Interface</th>
<th class="tableblock halign-left valign-middle">Modo</th>
<th class="tableblock halign-left valign-middle">Endereço</th>
<th class="tableblock halign-left valign-middle">Gateway</th>
<th class="tableblock halign-left valign-middle">Servidores DNS</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">FWGW1-G</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">eth0</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Estático</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">DHCP</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Automático</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Automático</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">eth1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Estático</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">172.16.G.1/24</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">eth2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Estático</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">10.1.G.1/24</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">LinServer-G</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">eth0</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Estático</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">172.16.G.10/24</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">172.16.G.1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">8.8.8.8 ; 8.8.4.4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">WinServer-G</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">eth0</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Estático</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">172.16.G.20/24</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">172.16.G.1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">8.8.8.8 ; 8.8.4.4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">KaliLinux-G</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">eth0</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Estático</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">172.16.G.30/24</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">172.16.G.1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">8.8.8.8 ; 8.8.4.4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">WinClient-G</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">eth0</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Estático</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">10.1.G.10/24</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">10.1.G.1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">8.8.8.8 ; 8.8.4.4</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A partir do Debian 9, a nomenclatura padrão de interfaces de rede foi alterada. Ao invés de denotarmos as interfaces como <code>eth0</code>, <code>eth1</code> ou <code>eth2</code>, o <code>systemd/udev</code> utiliza, a partir da versão v197, um método de nomenclatura de interfaces usando <em>biosdevnames</em>, como documentado oficialmente em <a href="https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames/" class="bare">https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames/</a> . Com efeito, esse novo sistema suporta cinco meios de nomeação de interfaces de rede:</p>
</div>
<div class="openblock">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Nomes incorporando números de índice providos pelo firmware/BIOS de dispositivos <em>on-board</em> (p.ex.: <code>eno1</code>)</p>
</li>
<li>
<p>Nomes incorporando números de índice providos pelo firmware/BIOS de encaixes <em>hotplug</em> PCI Express (p.ex.: <code>ens1</code>)</p>
</li>
<li>
<p>Nomes incorporando localização física/geográfica do conector do hardware (p.ex.: <code>enp2s0</code>)</p>
</li>
<li>
<p>Nomes incorporando o endereço MAC da interface (p.ex.: <code>enx78e7d1ea46da</code>)</p>
</li>
<li>
<p>Nomes clássicos, usando nomenclatura não-previsível nativa do kernel (p.ex.: <code>eth0</code>)</p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Como as máquinas <em>FWGW1-G</em> e <em>LinServer-G</em> são instalações do Debian 9, isso significa dizer que as entradas de interface na tabela anterior ficam da seguinte forma:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 70%;">
<caption class="title">Table 6. Nomenclatura de interfaces de máquinas Debian 9</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">VM Nome</th>
<th class="tableblock halign-left valign-middle">Interface antiga</th>
<th class="tableblock halign-left valign-middle">Interface nova</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">FWGW1-G</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">eth0</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">enp0s3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">eth1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">enp0s8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">eth2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">enp0s9</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">LinServer-G</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">eth0</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">enp0s3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Observe, por exemplo, como é feita a detecção de interfaces durante o <em>boot</em> da máquina <em>FWGW1-G</em>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># hostname
FWGW1-A

# dmesg | grep 'renamed from'
[    1.667147] e1000 0000:00:09.0 enp0s9: renamed from eth2
[    1.667995] e1000 0000:00:08.0 enp0s8: renamed from eth1
[    1.668885] e1000 0000:00:03.0 enp0s3: renamed from eth0</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_5_configuração_da_máquinas_virtuais">5) Configuração da máquinas virtuais</h3>
<div class="paragraph">
<p>Agora, vamos configurar a rede de cada máquina virtual de acordo com as especificações da topologia de rede apresentada no começo deste capítulo.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Observe que as máquinas virtuais da <strong>DMZ</strong> e <strong>Intranet</strong> poderão ainda não ter acesso à Internet neste passo, pois ainda não configuramos o firewall. A próxima seção irá tratar deste tópico.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Para tangibilizar os exemplos nas configurações-modelo deste gabarito, iremos assumir que o aluno é membro do grupo <code>A</code>, ou seja, tem suas máquinas virtuais nas redes 172.16.1.0/24 e 10.1.1.0/24. Se você for membro do grupo <code>B</code>, tenha o cuidado de sempre adaptar os endereços IP dos exemplos para as suas faixas de rede.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Primeiramente, ligue a máquina <em>FWGW1-G</em> e faça login como usuário <code>root</code> e senha <code>rnpesr</code>. Verifique se o mapa de teclado está correto (teste com os caracteres <code>/</code> ou <code>ç</code>). Se não estiver, execute o comando:</p>
<div class="literalblock">
<div class="content">
<pre># dpkg-reconfigure keyboard-configuration</pre>
</div>
</div>
<div class="paragraph">
<p>Nas perguntas que se seguem, responda:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Configurações de teclado</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Pergunta</th>
<th class="tableblock halign-left valign-top">Parâmetro</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modelo do teclado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PC (Intl) Genérico de 105 teclas</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Layout do teclado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outro &gt; Português (Brasil) &gt; Português (Brasil)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tecla para funcionar como AltGr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alt Direito (AltGr)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tecla Compose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tecla Logo Direita</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Finalmente, execute o comando que se segue. Volte a testar o teclado e verifique seu funcionamento.</p>
</div>
<div class="literalblock">
<div class="content">
<pre># systemctl restart keyboard-setup.service</pre>
</div>
</div>
<div class="paragraph">
<p>Se ainda não estiver funcional, reinicie a VM e teste novamente.</p>
</div>
</li>
<li>
<p>Ao longo do curso, iremos editar vários arquivos de texto em ambiente Linux. Há vários editores de texto disponíveis para a tarefa, como o <code>vi</code>, <code>emacs</code> ou <code>nano</code>. Caso você não esteja familiarizado com um editor de texto, recomendamos o uso do <code>nano</code>, que possui uma interface bastante amigável para usuários iniciantes. Para editar um arquivo com o <code>nano</code>, basta digitar <code>nano</code> seguido do nome do arquivo a editar&#8201;&#8212;&#8201;não é necessário que o arquivo tenha sido criado previamente:</p>
<div class="literalblock">
<div class="content">
<pre># nano teste</pre>
</div>
</div>
<div class="paragraph">
<p>Digite livremente a seguir. Use as setas do teclado para navegar no texto, e <code>DELETE</code> ou <code>BACKSPACE</code> para apagar texto. O <code>nano</code> possui alguns atalhos interessantes, como:</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>CTRL + G</code>: Exibir a ajuda do editor</p>
</li>
<li>
<p><code>CTRL + X</code>: Fechar o <code>buffer</code> de arquivo atual (que pode ser um texto sendo editado, ou o painel de ajuda), e sair do <code>nano</code>. Para salvar o arquivo, digite <code>Y</code> (<em>yes</em>) ou <code>S</code> (<em>sim</em>) para confirmar as mudanças ao arquivo, opcionalmente altere o nome do arquivo a ser escrito no disco, e digite <code>ENTER</code>.</p>
</li>
<li>
<p><code>CTRL + O</code>: Salvar o arquivo no disco sem sair do editor.</p>
</li>
<li>
<p><code>CTRL + W</code>: Buscar padrão no texto.</p>
</li>
<li>
<p><code>CTRL + K</code>: Cortar uma linha inteira e salvar no <code>buffer</code> do editor.</p>
</li>
<li>
<p><code>CTRL + U</code>: Colar o <code>buffer</code> do editor na posição atual do cursor. Pode ser usado repetidamente.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Para salvar e sair do texto sendo editado, como mencionado acima, utilize <code>CTRL + X</code>.</p>
</div>
</li>
<li>
<p>Durante as atividades deste curso iremos ter que digitar vários comandos no terminal das VMs, os quais serão mostrados nos cadernos de atividade de cada sessão. Alguns desses comandos serão bastante longos e/ou terão uma sintaxe complicada&#8201;&#8212;&#8201;nesse caso, o ideal é que tenhamos a possibilidade de copiá-los diretamente do caderno para a console, evitando erros de digitação.</p>
<div class="paragraph">
<p>O protocolo de login remoto SSH é ideal para solucionar essa tarefa. Em ambiente Windows, dois dos métodos mais populares para efetuar logins remotos via SSH são os programas PuTTY (<a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html" class="bare">https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html</a>) ou Cygwin (<a href="https://cygwin.com/install.html" class="bare">https://cygwin.com/install.html</a>). Vamos, primeiro, visualizar os passos necessários usando o PuTTY.</p>
</div>
<div class="paragraph">
<p>Em qualquer caso, o primeiro passo é sempre descobrir qual o endereço IP da máquina remota à qual queremos nos conectar. Por exemplo, na máquina <em>FWGW1-G</em>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># ip a s enp0s3 | grep '^ *inet ' | awk '{print $2}' | cut -d'/' -f1
192.168.29.103</pre>
</div>
</div>
<div class="paragraph">
<p>O uso do <strong>PuTTY</strong>, por se tratar de um programa <em>standalone</em> com o objetivo único de efetuar login via SSH, é mais simples. Faça o download do PuTTY em sua máquina física Windows, usando a URL informada acima. Em seguida, apenas abra o programa e digite na caixa <em>Host Name</em> o endereço IP da máquina remota descoberto acima. Em seguida, clique em <em>Open</em>.</p>
</div>
<div id="img-ssh1" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/ssh1.png" alt="ssh1">
</div>
<div class="title">Figure 2. Login via SSH usando o PuTTY, parte 1</div>
</div>
<div class="paragraph">
<p>Será mostrado um alerta de segurança avisando que a chave do <em>host</em> remoto não se encontra na <em>cache</em> local, o que pode configurar um risco de segurança. Clique em <em>Yes</em> para prosseguir com a tentativa de login.</p>
</div>
<div class="paragraph">
<p>Em seguida, será solicitado o nome de usuário com o qual efetuar a conexão. Como, por padrão, o <em>daemon</em> <code>sshd</code> do Debian não permite logins remotos usando o <code>root</code>, escolha o usuário <code>aluno</code>. Para a senha, informe <code>rnpesr</code>. Em caso de sucesso, você verá a tela a seguir:</p>
</div>
<div id="img-ssh2" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/ssh2.png" alt="ssh2">
</div>
<div class="title">Figure 3. Login via SSH usando o PuTTY, parte 2</div>
</div>
<div class="paragraph">
<p>Para tornar-se o superusuário <code>root</code>, agora, basta executar o comando <code>su -</code> e informar a senha correta, como se segue:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ su -
Senha:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># whoami
root</pre>
</div>
</div>
<div class="paragraph">
<p>Para copiar/colar comandos no PuTTY, basta selecionar o texto desejado no ambiente da máquina física e digitar <code>CTRL + C</code>, e em seguida clicar com o botão direito na janela do PuTTY. O texto selecionado será colado na posição do cursor.</p>
</div>
</li>
<li>
<p>O uso do Cygwin é um pouco mais envolvido, já que seu objetivo é mais complexo: prover, em ambiente Windows, funcionalidade equivalente à que temos disponível em uma distribuição Linux. Para começar, faça o download e execute o instalador do Cygwin em sua máquina física Windows.</p>
<div class="paragraph">
<p>A instalação é, em grande parte, bastante similar à de qualquer aplicativo Windows. Na tela inicial, clique em <em>Next</em>. Em <em>Choose a Download Source</em>, mantenha marcada a caixa <em>Install from Internet</em> e clique em <em>Next</em>. Em <em>Select Root Install Directory</em>, os valores padrão estão apropriados&#8201;&#8212;&#8201;clique em <em>Next</em>. Na tela <em>Select Local Package Directory</em>, novamente, mantenha o valor padrão e clique em <em>Next</em>.</p>
</div>
<div class="paragraph">
<p>Agora, vamos selecionar a fonte de pacotes. Em <em>Select Your Internet Connection</em>, a menos que haja um <em>proxy</em> na rede local (informe-se com seu instrutor), mantenha marcada a caixa <em>Direct Connection</em> e clique em <em>Next</em>. Será feito o download da lista de espelhos disponíveis para o Cygwin. Em <em>Choose A Download Site</em>, qualquer espelho irá funcionar, mas evidentemente é desejável que escolhamos um que possua maior velocidade de download&#8201;&#8212;&#8201;o site <a href="http://linorg.usp.br" class="bare">http://linorg.usp.br</a> é provavelmente uma boa opção, nesse caso. Clique em <em>Next</em>, e o instalador irá baixar a lista de pacotes disponíveis.</p>
</div>
<div class="paragraph">
<p>Em adição ao sistema-base padrão, é necessário instalar o OpenSSH para efetuar logins remotos. Na caixa de busca <em>Search</em>, no topo da tela, digite o termo de busca <code>openssh</code>. Expanda a árvore <code>Net</code> e clique na palavra <em>Skip</em> na linha do pacote <code>openssh: The OpenSSH server and client programs</code>&#8201;&#8212;&#8201;ela irá alterar para a versão a ser instalada, <code>7.9p1-1</code> no caso da figura mostrada abaixo:</p>
</div>
<div id="img-ssh3" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/ssh3.png" alt="ssh3">
</div>
<div class="title">Figure 4. Instalação do OpenSSH no Cygwin</div>
</div>
<div class="paragraph">
<p>Clique em <em>Next</em>. Em <em>Review and confirm changes</em>, verifique que o Cygwin irá instalar o OpenSSH e todas as demais dependências do sistema-base Linux, como o <em>shell</em> <code>bash</code> ou ferramentas como o <code>grep</code>, e clique em <em>Next</em>. O instalador irá fazer o download e instalação dos pacotes selecionados.</p>
</div>
<div class="paragraph">
<p>Concluído o processo, procure pelo programa <code>Cygwin Terminal</code> no menu iniciar da sua máquina física Windows, e execute-o. Agora, tente fazer login via SSH normalmente, como se estivesse em um <em>shell</em> Linux:</p>
</div>
<div id="img-ssh4" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/ssh4.png" alt="ssh4">
</div>
<div class="title">Figure 5. Login via SSH usando o Cygwin</div>
</div>
<div class="paragraph">
<p>Para copiar/colar comandos no Cygwin, basta selecionar o texto desejado no ambiente da máquina física e digitar <code>CTRL + C</code>, e em seguida mudar o foco para a janela do Cygwin e digitar a combinação <code>SHIFT + Insert</code>. Para copiar texto a partir da janela do Cygwin, selecione-o e use a combinação de teclas <code>CTRL + Insert</code>. Para encontrar os arquivos localizados em sua máquina física, o diretório <code>/cygdrive/X</code> pode ser usado para mapear para os discos da máquina local&#8201;&#8212;&#8201;por exemplo, o diretório <code>/cygdrive/c</code> mapeia diretamente para o <code>C:\</code> da máquina Windows.</p>
</div>
</li>
<li>
<p>Voltemos à configuração da rede. Ainda na máquina <em>FWGW1-G</em>, edite o arquivo <code>/etc/network/interfaces</code> como se segue, reinicie a rede e verifique o funcionamento:</p>
<div class="literalblock">
<div class="content">
<pre># hostname
FWGW1-A</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># whoami
root</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># nano /etc/network/interfaces
(...)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># cat /etc/network/interfaces
source /etc/network/interfaces.d/*

auto lo enp0s3 enp0s8 enp0s9

iface lo inet loopback

iface enp0s3 inet dhcp

iface enp0s8 inet static
address 172.16.1.1/24

iface enp0s9 inet static
address 10.1.1.1/24</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># systemctl restart networking</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># ip a s | grep '^ *inet '
    inet 127.0.0.1/8 scope host lo
    inet 192.168.29.107/24 brd 192.168.29.255 scope global enp0s3
    inet 172.16.1.1/24 brd 172.16.1.255 scope global enp0s8
    inet 10.1.1.1/24 brd 10.1.1.255 scope global enp0s9</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</li>
<li>
<p>Se você for membro do grupo <code>B</code>, altere o nome de <em>host</em> da máquina <em>FWGW1-G</em> para refletir corretamente seu grupo. Primeiro, altere o arquivo <code>/etc/hostname</code>:</p>
<div class="literalblock">
<div class="content">
<pre># nano /etc/hostname
(...)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># cat /etc/hostname
FWGW1-B</pre>
</div>
</div>
<div class="paragraph">
<p>Faça o mesmo com o arquivo <code>/etc/hosts</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># nano /etc/hosts
(...)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># cat /etc/hosts
127.0.0.1       localhost
127.0.1.1       FWGW1-B.intnet  FWGW1-B

# The following lines are desirable for IPv6 capable hosts
::1     localhost ip6-localhost ip6-loopback
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters</pre>
</div>
</div>
<div class="paragraph">
<p>Agora, reinicie a máquina. Após o login como usuário <code>root</code>, você deverá ver que o <em>prompt</em> do terminal mudou, como se segue:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>root@FWGW1-B:~# hostname
FWGW1-B</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># whoami
root</pre>
</div>
</div>
<div class="paragraph">
<p>Finalmente, vamos regerar as chaves de <em>host</em> do <code>ssh</code> com o novo <em>hostname</em>. Execute:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># rm /etc/ssh/ssh_host_*</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># dpkg-reconfigure openssh-server
Creating SSH2 RSA key; this may take some time ...
2048 SHA256:NyWM8WE7wv2rWpPMN/w115eq4UeflKOm+jFSsHQ/Zwk root@FWGW1-B (RSA)
Creating SSH2 ECDSA key; this may take some time ...
256 SHA256:ZPxXhAgsnAdTuEbppgsxERp5WQNbQuNROAtatszyrlA root@FWGW1-B (ECDSA)
Creating SSH2 ED25519 key; this may take some time ...
256 SHA256:YBEQfhMSNz6sKvyDu/mRjNB/njj6PAim7xaLmGrcDEM root@FWGW1-B (ED25519)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># systemctl restart ssh</pre>
</div>
</div>
</li>
<li>
<p>Ligue a máquina <em>LinServer-G</em> e faça login como usuário <code>root</code> e senha <code>rnpesr</code>. Se encontrar problemas com o teclado, aplique a mesma solução utilizada na etapa (1) desta atividade. Para alterar o <em>hostname</em> da máquina, siga os passos da etapa (6).</p>
<div class="paragraph">
<p>A seguir, edite as configurações de rede no arquivo <code>/etc/network/interfaces</code>, de DNS no arquivo <code>/etc/resolv.conf</code>, reinicie a rede e verifique se tudo está funcionando:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># hostname
LinServer-A</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># whoami
root</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># nano /etc/network/interfaces
(...)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># cat /etc/network/interfaces
source /etc/network/interfaces.d/*

auto lo enp0s3

iface lo inet loopback

iface enp0s3 inet static
address 172.16.1.10/24
gateway 172.16.1.1</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># nano /etc/resolv.conf
(...)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># cat /etc/resolv.conf
nameserver 8.8.8.8
nameserver 8.8.4.4</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># systemctl restart networking</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># ip a s | grep '^ *inet '
    inet 127.0.0.1/8 scope host lo
    inet 172.16.1.10/24 brd 172.16.1.255 scope global enp0s3</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</li>
<li>
<p>Vamos para a máquina <em>WinServer-G</em>. Assim que a máquina terminar de ligar, deveremos definir uma senha para o usuário <code>Administrator</code> na tela <em>Customize settings</em>. Use uma senha forte, como <code>RnpEsr123!</code>:</p>
<div id="img-passwd-winserver" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-1.png" alt="winserver 1">
</div>
<div class="title">Figure 6. Definição de senha do administrador na máquina WinServer-G</div>
</div>
<div class="paragraph">
<p>Pelo <em>Control Panel</em> ou usando o comando <code>ncpa.cpl</code>, configure o endereço IP e servidores DNS de forma estática, como na foto abaixo, e verifique que suas configurações estão funcionais.</p>
</div>
<div id="img-rede-winserver" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-2.png" alt="winserver 2">
</div>
<div class="title">Figure 7. Configuração de rede da máquina WinServer-G</div>
</div>
<div class="paragraph">
<p>Quando perguntado se deseja que o computador possa ser descoberto por outros dispositivos na rede, responda <em>Yes</em>.</p>
</div>
<div id="img-discover-winserver" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-3.png" alt="winserver 3">
</div>
<div class="title">Figure 8. Descoberta de rede da máquina WinServer-G</div>
</div>
<div style="page-break-after: always;"></div>
</li>
<li>
<p>Prossiga para a máquina <em>KaliLinux-G</em>, e faça login como usuário <code>root</code> e senha <code>rnpesr</code>. Se encontrar problemas com o teclado, aplique a mesma solução utilizada na etapa (1) desta atividade, e reinicie a VM. Para alterar o <em>hostname</em> da máquina, siga os passos da etapa (4).</p>
<div class="paragraph">
<p>Em seguida, edite as configurações de rede no arquivo <code>/etc/network/interfaces</code> e de DNS no arquivo <code>/etc/resolv.conf</code>. Reinicie a rede e verifique se tudo está correto:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># hostname
KaliLinux-A</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># whoami
root</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># nano /etc/network/interfaces
(...)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># cat /etc/network/interfaces
source /etc/network/interfaces.d/*

auto lo eth0

iface lo inet loopback

iface eth0 inet static
address 172.16.1.30/24
gateway 172.16.1.1</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># nano /etc/resolv.conf
(...)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># cat /etc/resolv.conf
nameserver 8.8.8.8
nameserver 8.8.4.4</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># systemctl restart networking</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># ip a s | grep '^ *inet '
    inet 127.0.0.1/8 scope host lo
    inet 172.16.1.30/24 brd 172.16.1.255 scope global eth0</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</li>
<li>
<p>Finalmente, vamos configurar a máquina <em>WinClient-G</em>: o primeiro passo é concluir o processo de instalação, a começar pela escolha da região do sistema. Escolha <em>Brasil</em> e prossiga:</p>
<div id="img-region-winclient" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winclient-1.png" alt="winclient 1">
</div>
<div class="title">Figure 9. Configuração de região da máquina WinClient-G</div>
</div>
<div class="paragraph">
<p>Em seguida, escolha o <em>layout</em> de teclado&#8201;&#8212;&#8201;provavelmente <code>Brasil-ABNT2</code>.</p>
</div>
<div id="img-keyboard-winclient" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winclient-2.png" alt="winclient 2">
</div>
<div class="title">Figure 10. Configuração de teclado da máquina WinClient-G</div>
</div>
<div class="paragraph">
<p>Quando perguntado se deseja adicionar um segundo <em>layout</em> de teclado, escolha <em>Pular</em>.</p>
</div>
<div class="paragraph">
<p>A seguir, o sistema irá tentar conectar-se automaticamente à rede, sem sucesso. No canto inferior esquerdo, clique em <em>Ignorar por enquanto</em>&#8201;&#8212;&#8201;iremos configurar a rede posteriormente.</p>
</div>
<div id="img-prenetwork-winclient" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winclient-4.png" alt="winclient 4">
</div>
<div class="title">Figure 11. Configuração preliminar de rede da máquina WinClient-G</div>
</div>
<div class="paragraph">
<p>O configurador irá pedir confirmação se você deseja prosseguir sem configurar a rede. Clique em <em>Não</em> para continuar com o processo de configuração inicial.</p>
</div>
<div class="paragraph">
<p>Agora, vamos criar uma conta de usuário. Escolha o nome <code>Aluno</code>:</p>
</div>
<div id="img-account-winclient" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winclient-6.png" alt="winclient 6">
</div>
<div class="title">Figure 12. Configuração de conta da máquina WinClient-G</div>
</div>
<div class="paragraph">
<p>Para a senha, defina <code>rnpesr</code> e confirme na tela posterior:</p>
</div>
<div id="img-password-winclient" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winclient-7.png" alt="winclient 7">
</div>
<div class="title">Figure 13. Configuração de senha da máquina WinClient-G</div>
</div>
<div class="paragraph">
<p>Agora o sistema irá solicitar a definição de três perguntas de segurança caso a senha seja esquecida. Defina qualquer conjunto de perguntas/respostas que preferir, e prossiga:</p>
</div>
<div id="img-questions-winclient" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winclient-9.png" alt="winclient 9">
</div>
<div class="title">Figure 14. Configuração de perguntas secretas da máquina WinClient-G</div>
</div>
<div class="paragraph">
<p>Quando perguntado se deseja que a Cortana se torne sua assistente pessoal, desmarque a caixa <em>Permitir que a Cortana responda "Ei Cortana"</em> e clique em <em>Recusar</em>.</p>
</div>
<div id="img-assistant-winclient" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winclient-10.png" alt="winclient 10">
</div>
<div class="title">Figure 15. Configuração de assistente da máquina WinClient-G</div>
</div>
<div class="paragraph">
<p>Quando perguntado se deseja ativar o histórico de atividades, responda <em>Não</em> e prossiga.</p>
</div>
<div class="paragraph">
<p>Na escolha de configurações de privacidade do sistema, desmarque todas as opções como mostrado na figura a seguir, e clique em <em>Aceitar</em>.</p>
</div>
<div id="img-privacy-winclient" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winclient-12.png" alt="winclient 12">
</div>
<div class="title">Figure 16. Configuração de privacidade da máquina WinClient-G</div>
</div>
<div class="paragraph">
<p>Uma vez logado dentro do sistema, acesse o <em>Painel de Controle</em> ou use o comando <code>ncpa.cpl</code>, configure o endereço IP e servidores DNS de forma estática, como na foto abaixo, e verifique que suas configurações estão funcionais.</p>
</div>
<div id="img-rede-winclient" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winclient-13.png" alt="winclient 13">
</div>
<div class="title">Figure 17. Configuração de rede da máquina WinClient-G</div>
</div>
<div class="paragraph">
<p>Quando perguntado se deseja que o computador possa ser descoberto por outros dispositivos na rede, responda <em>Sim</em>.</p>
</div>
<div id="img-discover-winclient" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winclient-14.png" alt="winclient 14">
</div>
<div class="title">Figure 18. Descoberta de rede da máquina WinClient-G</div>
</div>
<div style="page-break-after: always;"></div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_6_configuração_de_firewall_e_nat">6) Configuração de firewall e NAT</h3>
<div class="paragraph">
<p>O próximo passo é garantir que as VMs consigam acessar a internet através da máquina <em>FWGW1-G</em>, que é o firewall/roteador na topologia de rede do curso.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Antes de mais nada, observe que na máquina <em>FWGW1-G</em> já existe uma configuração de <em>masquerading</em> (um tipo de SNAT que veremos em maior detalhe na sessão 3) no arquivo <code>/etc/rc.local</code>:</p>
<div class="literalblock">
<div class="content">
<pre># hostname
FWGW1-A</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># cat /etc/rc.local
#!/bin/sh -e

iptables -t nat -A POSTROUTING -o enp0s3 -j MASQUERADE
exit 0</pre>
</div>
</div>
</li>
<li>
<p>Isto significa dizer que a tradução de endereços das redes privadas já está configurado. Verifique se o repasse de pacotes entre interfaces está habilitado&#8201;&#8212;&#8201;cheque se a linha <code>net.ipv4.ip_forward=1</code> no arquivo <code>/etc/sysctl.conf</code> está descomentada e, posteriormente, execute <code># sysctl -p</code>:</p>
<div class="literalblock">
<div class="content">
<pre># nano /etc/sysctl.conf
(...)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># grep 'net.ipv4.ip_forward' /etc/sysctl.conf
net.ipv4.ip_forward=1</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># sysctl -p
net.ipv4.ip_forward = 1</pre>
</div>
</div>
</li>
<li>
<p>Verifique que o <em>masquerading</em> está de fato habilitado no firewall:</p>
<div class="literalblock">
<div class="content">
<pre># iptables -L POSTROUTING -vn -t nat
Chain POSTROUTING (policy ACCEPT 0 packets, 0 bytes)
 pkts bytes target     prot opt in     out     source               destination
   23  1640 MASQUERADE  all  --  *      enp0s3  0.0.0.0/0            0.0.0.0/0</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_7_teste_de_conectividade_das_vms">7) Teste de conectividade das VMs</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Vamos agora testar a conectividade de cada uma das VMs. Primeiro, acesse a máquina <em>FWGW1-G</em> e verifique o acesso à internet e resolução de nomes:</p>
<div class="literalblock">
<div class="content">
<pre>aluno@FWGW1-A:~$ hostname
FWGW1-A</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>aluno@FWGW1-A:~$ ping -c3 8.8.8.8
PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.
64 bytes from 8.8.8.8: icmp_seq=1 ttl=121 time=28.7 ms
64 bytes from 8.8.8.8: icmp_seq=2 ttl=121 time=16.9 ms
64 bytes from 8.8.8.8: icmp_seq=3 ttl=121 time=16.7 ms

--- 8.8.8.8 ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2005ms
rtt min/avg/max/mdev = 16.776/20.832/28.757/5.606 ms</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>aluno@FWGW1-A:~$ ping -c3 esr.rnp.br
PING esr.rnp.br (200.130.99.56) 56(84) bytes of data.
64 bytes from 200.130.99.56: icmp_seq=1 ttl=54 time=37.9 ms
64 bytes from 200.130.99.56: icmp_seq=2 ttl=54 time=36.4 ms
64 bytes from 200.130.99.56: icmp_seq=3 ttl=54 time=37.1 ms

--- esr.rnp.br ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2004ms
rtt min/avg/max/mdev = 36.474/37.168/37.931/0.636 ms</pre>
</div>
</div>
</li>
<li>
<p>Em seguida, acesse cada uma das demais VMs, em ordem (<em>LinServer-G</em>, <em>WinServer-G</em>, <em>KaliLinux-G</em> e <em>WinClient-G</em>) e teste se é possível:</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Alcançar o roteador da rede: <code>ping 172.16.1.1</code> (para máquinas da DMZ) ou <code>ping 10.1.1.1</code> (para máquinas da Intranet)</p>
</li>
<li>
<p>Alcançar um servidor na Internet: <code>ping 8.8.8.8</code></p>
</li>
<li>
<p>Resolver nomes: comandos <code>nslookup</code>, <code>host</code> ou <code>ping</code> para o nome de domínio <code>esr.rnp.br</code></p>
</li>
</ul>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_8_instalação_do_virtualbox_guest_additions_nas_vms_windows">8) Instalação do <strong><em>Virtualbox Guest Additions</em></strong> nas VMs Windows</h3>
<div class="paragraph">
<p>Vamos agora instalar os adicionais de convidado para máquinas virtuais do Virtualbox, conhecido como <em>Virtualbox Guest Additions</em>. Esse adicionais consistem em <em>drivers</em> de dispositivo e aplicações de sistema que otimizam o sistema para rodar no ambiente virtual, proporcionando maior performance e estabilidade. Nesta atividade, iremos instalar os adicionais nas máquinas <em>WinServer-G</em> e <em>WinClient-G</em>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na console da máquina <em>WinServer-G</em>, acesse o menu <em>Devices</em> &gt; <em>Insert Guest Additions CD image</em>. Após algum tempo, a janela de <em>autorun</em> irá aparecer, como mostrado abaixo. Clique duas vezes na opção <em>Run VBoxWindowsAdditions.exe</em>.</p>
<div id="img-vboxguest-autorun" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-4.png" alt="winserver 4">
</div>
<div class="title">Figure 19. Janela de autorun do CD Virtualbox Guest Additions</div>
</div>
<div style="page-break-after: always;"></div>
</li>
<li>
<p>No assistente de instalação, clique em <em>Next</em>, <em>Next</em>, e finalmente em <em>Install</em>. No meio da instalação o sistema irá avisar que a assinatura de quem publicou o software não é conhecida. Marque a caixa <em>Always trust software from "Oracle Corporation"</em> e clique em <em>Install</em>, como mostrado abaixo.</p>
<div id="img-vboxguest-publisher" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-8.png" alt="winserver 8">
</div>
<div class="title">Figure 20. Aviso de publisher não verificado do Virtualbox Guest Additions</div>
</div>
</li>
<li>
<p>Ao final da instalação, o assistente irá solicitar que o computador seja reiniciado. Deixe a caixa <em>Reboot now</em> marcada e clique em <em>Finish</em>.</p>
<div id="img-vboxguest-reboot" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-9.png" alt="winserver 9">
</div>
<div class="title">Figure 21. Reiniciar sistema após instalação do Virtualbox Guest Additions</div>
</div>
</li>
<li>
<p>Após o reinício do sistema, maximize a janela do Virtualbox e faça login no sistema como o usuário <code>Administrator</code>. Observe que, agora, o <em>desktop</em> do Windows Server 2019 ocupa toda extensão do monitor, e não apenas uma pequena janela&#8201;&#8212;&#8201;indício de que a instalação do <em>Virtualbox Guest Additions</em> foi realizada com sucesso.</p>
<div class="paragraph">
<p>Caso queira confirmar o sucesso da instalação, abra o <em>Task Manager</em> (via <code>SHIFT + CTRL + ESC</code> ou pelo menu Iniciar do Windows) e navegue até a aba <em>Details</em>. Note que o serviço <code>VboxService.exe</code> deverá estar operando, como mostrado abaixo:</p>
</div>
<div id="img-vboxguest-service" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-10.png" alt="winserver 10">
</div>
<div class="title">Figure 22. Serviço do Virtualbox Guest Additions operacional</div>
</div>
</li>
<li>
<p>Repita o procedimento de instalação dos passos 1 - 4 na máquina <em>WinClient-G</em>.</p>
<div style="page-break-after: always;"></div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_9_instalação_do_virtualbox_guest_additions_nas_vms_linux">9) Instalação do <strong><em>Virtualbox Guest Additions</em></strong> nas VMs Linux</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Neste curso iremos utilizar imagens de máquina virtual que já possuem todos os pacotes necessários para realização do curso pré-instalados. Em um sistema Debian recém-preparado, no entanto, o administrador teria primeiramente que instalar os pacotes <code>build-essential</code> e <code>module-assistant</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># apt-get install --no-install-recommends build-essential module-assistant</pre>
</div>
</div>
<div class="paragraph">
<p>Em seguida, deve-se instalar os <code>headers</code> do kernel em execução no sistema:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># m-a prepare</pre>
</div>
</div>
<div class="paragraph">
<p>Uma vez realizados os passos acima, pode-se proceder com os passos de instalação do <em>Virtualbox Guest Additions</em> explicados abaixo.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A instalação do <em>Virtualbox Guest Additions</em> nas VMs Linux é um pouco diferente, mais manual. Siga os passos a seguir:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na console do Virtualbox da máquina <em>FWGW1-G</em>, acesse o menu <em>Devices</em> &gt; <em>Insert Guest Additions CD image</em>. Em seguida, monte o dispositivo:</p>
<div class="literalblock">
<div class="content">
<pre># mount /dev/cdrom /mnt/ &amp;&amp; cd /mnt</pre>
</div>
</div>
</li>
<li>
<p>Agora, execute o instalador do <em>Virtualbox Guest Additions</em>, com o comando:</p>
<div class="literalblock">
<div class="content">
<pre># sh VBoxLinuxAdditions.run
Verifying archive integrity... All good.
Uncompressing VirtualBox 6.0.4 Guest Additions for Linux........
VirtualBox Guest Additions installer
Copying additional installer modules ...
Installing additional modules ...
VirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.
VirtualBox Guest Additions: To build modules for other installed kernels, run
VirtualBox Guest Additions:   /sbin/rcvboxadd quicksetup &lt;version&gt;
VirtualBox Guest Additions: Building the modules for kernel 4.9.0-8-amd64.
update-initramfs: Generating /boot/initrd.img-4.9.0-8-amd64
VirtualBox Guest Additions: Starting.</pre>
</div>
</div>
</li>
<li>
<p>Finalmente, reinicie a máquina. Após o <em>reboot</em>, verifique que os módulos do <em>Virtualbox Guest Additions</em> estão operacionais:</p>
<div class="literalblock">
<div class="content">
<pre># reboot</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># lsmod | grep '^vbox' | sort
vboxguest             327680  2 vboxsf
vboxsf                 45056  0
vboxvideo              36864  0</pre>
</div>
</div>
</li>
<li>
<p>Instale os módulos do <em>Virtualbox Guest Additions</em> na máquina <em>LinServer-G</em>. O procedimento é idêntico ao que fizemos nos passos 1 - 6.</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_10_configuração_da_vm_winserver_g">10) Configuração da VM <strong><em>WinServer-G</em></strong></h3>
<div class="paragraph">
<p>A máquina <em>WinServer-G</em> demanda uma pequena configuração adicional antes que estejamos prontos para começar os trabalhos. Vamos a ela:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Usando o 1) <em>Control Panel</em>, ou 2) clicando com o botão direito em <em>Computer</em> &gt; <em>Properties</em> no Windows Explorer ou 3) digitando <code>system</code> no menu iniciar, abra a tela de configuração do sistema como mostrado a seguir:</p>
<div id="img-winserver-system" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-11.png" alt="winserver 11">
</div>
<div class="title">Figure 23. Tela de configuração do sistema do WinServer</div>
</div>
<div style="page-break-after: always;"></div>
</li>
<li>
<p>Clique em <em>Change Settings</em>, e na aba <em>Computer Name</em>, no botão <em>Change&#8230;&#8203;</em>. Altere o nome do computador para <code>WinServer-G</code> e o <em>Workgroup</em> para <code>GRUPO</code>, como se segue. Depois, clique em <em>OK</em>.</p>
<div id="img-winserver-changename" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-12.png" alt="winserver 12">
</div>
<div class="title">Figure 24. Alteração de nome de máquina do WinServer</div>
</div>
<div style="page-break-after: always;"></div>
</li>
<li>
<p>Não reinicie o computador ainda. Na aba <em>Remote</em>, marque a caixa <em>Allow remote connections to this computer</em> e desmarque <em>Allow connections only from computers running Remote Desktop with Network Level Authentication</em>, como na imagem abaixo. Depois, clique em <em>Apply</em> e em seguida em <em>Restart Later</em>.</p>
<div id="img-winserver-rdesktop" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-13.png" alt="winserver 13">
</div>
<div class="title">Figure 25. Configurações de Remote Desktop do WinServer</div>
</div>
<div style="page-break-after: always;"></div>
</li>
<li>
<p>Agora, desabilite o firewall do Windows. Digite <code>firewall</code> no menu <em>Start</em> (alternativamente, clique em <em>Windows Defender Firewall</em> no <em>Control Panel</em>), em seguida em <em>Turn Windows Defender Firewall on or off</em>, e finalmente marque as caixas <em>Turn off Windows Defender Firewall</em> para ambas as rede Privada e Pública, como se segue:</p>
<div id="img-winserver-firewall" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-14.png" alt="winserver 14">
</div>
<div class="title">Figure 26. Desabilitar o firewall do WinServer</div>
</div>
</li>
<li>
<p>Clique em <em>OK</em> e reinicie a máquina <em>WinServer-G</em>.</p>
<div style="page-break-after: always;"></div>
</li>
<li>
<p>Após o <em>reboot</em>, acesse o <em>Server Manager</em> (que deverá ser iniciado automaticamente após o logon), e no canto superior direito clique em <em>Manage</em> &gt; <em>Add Roles and Features</em>.</p>
<div class="paragraph">
<p>Na janela <em>Before you begin</em>, clique em <em>Next</em> (opcionalmente, marque a caixa <em>Skip this page by default</em>).</p>
</div>
<div class="paragraph">
<p>Em <em>Select installation type</em>, mantenha <em>Role-based or feature-based installation</em> e clique em <em>Next</em>.</p>
</div>
<div id="img-winserver-role1" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-15.png" alt="winserver 15">
</div>
<div class="title">Figure 27. Instalação de roles e features no WinServer, parte 1</div>
</div>
<div class="paragraph">
<p>Em <em>Select destination server</em>, mantenha <em>Select a server from the server pool</em> marcado e garanta que a máquina <em>WinServer-G</em> está selecionada na caixa <em>Server Pool</em>. Clique em <em>Next</em>.</p>
</div>
<div class="paragraph">
<p>Em <em>Select server roles</em>, marque a caixa <em>Web Server (IIS)</em>. Quando surgir a pergunta <em>Add features that are required for Web Server (IIS)?</em>, clique em <em>Add Features</em>, e depois em <em>Next</em>.</p>
</div>
<div id="img-winserver-role2" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-16.png" alt="winserver 16">
</div>
<div class="title">Figure 28. Instalação de roles e features no WinServer, parte 2</div>
</div>
<div class="paragraph">
<p>Em <em>Select features</em>, clique em <em>Next</em>.</p>
</div>
<div class="paragraph">
<p>Em <em>Web Server Role (IIS)</em>, clique em <em>Next</em> para prosseguir.</p>
</div>
<div class="paragraph">
<p>A seguir, na janela <em>Select role services</em>, desça a barra de rolagem até o final e marque a caixa <em>FTP Server</em>, como se segue.</p>
</div>
<div id="img-winserver-role3" class="imageblock" style="text-align: center">
<div class="content">
<img src="../img/winserver-17.png" alt="winserver 17">
</div>
<div class="title">Figure 29. Instalação de roles e features no WinServer, parte 3</div>
</div>
</li>
<li>
<p>Finalmente, clique em <em>Install</em> e aguarde. Ao final do processo, clique em <em>Close</em>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_11_exercitando_os_fundamentos_de_segurança">11) Exercitando os fundamentos de segurança</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Como vimos, o conceito de segurança mais básico apresentado consiste no CID (Confidencialidade, Integridade e Disponibilidade). Apresente três exemplos de quebra de segurança em cada um desses componentes, como por exemplo:</p>
<div class="ulist">
<ul>
<li>
<p>Planilha Excel corrompida.</p>
</li>
<li>
<p>Acesso não autorizado aos e-mails de uma conta de correio eletrônico.</p>
</li>
<li>
<p>Queda de um servidor web por conta de uma falha de energia elétrica.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Associe cada um dos eventos abaixo a uma estratégia de segurança definida na parte teórica.</p>
<div class="ulist">
<ul>
<li>
<p>Utilizar um servidor web Linux e outro Windows 2019 Server para servir um mesmo conteúdo, utilizando alguma técnica para redirecionar o tráfego para os dois servidores.</p>
</li>
<li>
<p>Utilizar uma interface gráfica simplificada para configurar uma solução de segurança.</p>
</li>
<li>
<p>Configurar todos os acessos externos de modo que passem por um ponto único.</p>
</li>
<li>
<p>Um sistema de segurança em que caso falte energia elétrica, todos os acessos que passam por ele são bloqueados.</p>
</li>
<li>
<p>Configurar um sistema para só ser acessível através de redes confiáveis, para solicitar uma senha de acesso e em seguida verificar se o sistema de origem possui antivírus instalado.</p>
</li>
<li>
<p>Configurar as permissões de um servidor web para apenas ler arquivos da pasta onde estão as páginas HTML, sem nenhuma permissão de execução ou gravação em qualquer arquivo do sistema.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_12_normas_e_políticas_de_segurança">12) Normas e políticas de segurança</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Acesse o site do DSIC em <a href="http://dsic.planalto.gov.br/assuntos/editoria-c/instrucoes-normativas" class="bare">http://dsic.planalto.gov.br/assuntos/editoria-c/instrucoes-normativas</a> e leia a Instrução Normativa GSI/PR nº 1, de 13 de junho de 2008 e as normas complementares indicadas. Elas são um bom ponto de partida para a criação de uma Política de Segurança, de uma Equipe de Tratamento de Incidentes de Segurança, de um Plano de Continuidade de Negócios e para a implementação da Gestão de Riscos de Segurança da Informação.</p>
</li>
<li>
<p>Leia o texto da Política de Segurança da Informação da Secretaria de Direitos Humanos da Presidência da República, de 2012 (disponível na seção <em>Links Úteis e Leituras Recomendadas</em> do AVA, pasta <em>PoSIC</em>), e procure identificar os principais pontos na estruturação de uma PoSIC. Faça uma crítica construtiva do documento com vistas a identificar as principais dificuldades encontradas na elaboração de uma PoSIC.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-04-07 04:19:39 -03
</div>
</div>
</body>
</html>